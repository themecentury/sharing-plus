!function(h){"use strict";var l,d=h(document);(l={Repeater:function(){var f=function(e){e.find("[name]").each(function(){h(this).trigger("change")})},i=function(){var e=h(".te-repeater");e.sortable({orientation:"vertical",items:"> .repeater-table",placeholder:"te-sortable-placeholder",update:function(e,n){f(n.item)}}),e.trigger("sortupdate"),e.sortable("refresh")};d.on("widget-added widget-updated panelsopen",function(e,n){i()}),h(function(){"widgets"===window.pagenow&&h(".widgets-holder-wrap:not(#available-widgets)").find("div.widget").one("click.toggle-widget-expanded",function(){i()})}),d.on("click",".te-add-repeater",function(e){e.preventDefault();var n=h(this),i=n.closest(".te-repeater"),a=i.find(".te-code-for-repeater"),t=i.find(".te-total-repeater"),s=parseInt(t.val()),o=a.html();t.val(s+1);var c,r,l,d,p=(c=o,r=n.attr("id"),l=s,d=new RegExp(r,"g"),c.replace(d,l));n.before(h('<div class="repeater-table"></div>').append(p));var u=n.prev(".repeater-table");u.find(".te-repeater-inside").slideDown("fast",function(){u.addClass("open"),f(u)})}),d.on("click",".te-repeater-top, .te-repeater-close",function(e){e.preventDefault();var n=h(this).closest(".repeater-table"),i=n.find(".te-repeater-inside");i.is(":hidden")?i.slideDown("fast",function(){n.addClass("open")}):i.slideUp("fast",function(){n.removeClass("open")})}),d.on("click",".te-repeater-remove",function(e){e.preventDefault();var n=h(this),i=n.closest(".repeater-table"),a=n.closest(".te-repeater");i.remove(),a.closest("form").trigger("change"),f(a)}),d.on("change",".te-select",function(e){e.preventDefault();var n=h(this),i=n.closest(".te-repeater-inside"),a=i.find(".te-postid"),t=i.find(".te-repeater-control-actions"),s=n.find("option:selected").val();0==s?a.remove():(a.remove(),h.ajax({type:"GET",data:{action:"tcy_get_edit_post_link",id:s},url:ajaxurl,beforeSend:function(e,n){a.remove()},success:function(e){0!=e&&t.append(e)},error:function(e,n,i){console.log(e+" :: "+n+" :: "+i)}}))})},Snipits:{Variables:function(){h(window).width(),h(window).height()},Append_HTML:function(){if("undefined"!=typeof tcy_theme_info_object){var e=tcy_theme_info_object.count_actions_recommended;void 0!==e&&"0"!=e&&h("li.sharing-plus-info-w-red-tab a").append('<span class="sharing-plus-info-actions-count">'+e+"</span>")}},Color_Picker:function(i){var e={change:function(e,n){i.closest("form").trigger("change")}};i.wpColorPicker(e)},ImageUpload:function(e){e.preventDefault();var n=h(this).data("title"),i=h(this).data("button"),a=h(this).prev(),t=h(this).prev().prev().children("img"),s=h(this).siblings(".img-preview-wrap"),o=wp.media.frames.meta_image_frame=wp.media({title:n,button:{text:i},library:{type:"image"}});o.open(),o.on("select",function(){var e=o.state().get("selection").first().toJSON();a.val(e.url),null!=t&&(t.attr("src",e.url),s.show()),a.trigger("change")})},WidgetTab:function(e){var n,i;h(this).hasClass("nav-tab-active")||(i=h(this).data("id"),n=h(this).closest(".sharing-plus-tab-wraper"),h(this).addClass("nav-tab-active").siblings(".nav-tab").removeClass("nav-tab-active"),n.find(".sharing-plus-tab-content").removeClass("sharing-plus-content-active"),n.find(i).addClass("sharing-plus-content-active"))},Widget_Accordion:function(){var e=h(this).closest(".tcy-accordion-title");h(this).prop("checked")?(e.siblings(".tcy-accordion-content").slideDown().removeClass("open close"),e.find(".tcy-accordion-arrow").addClass("fa-angle-up").removeClass("fa-angle-down")):(e.siblings(".tcy-accordion-content").slideUp().removeClass("open close"),e.find(".tcy-accordion-arrow").addClass("fa-angle-down").removeClass("fa-angle-up"))},Widget_Relation:function(e){var n=h(this),i=n.val(),a=h(this).data("relations");if(a)for(var t in n.is(":checkbox")&&(i=n.is(":checked")?i:0),console.log("Checkbox value is "+i),a)if(t==i){var s=a[t];for(var o in s){var c="."+s[o].join(", .");switch(o){case"show_fields":n.closest(".widget-content").find(c).removeClass("tcy_hidden_field");break;case"hide_fields":n.closest(".widget-content").find(c).addClass("tcy_hidden_field");break;default:console.warn(t+" case is not defined")}}}},CustomizerIcons:function(){var e=h(this),n=e.closest(".te-icons-wrapper"),i=e.children("i").attr("class"),a=i.split(" ")[1];e.siblings().removeClass("selected"),e.addClass("selected"),n.find(".te-icon-value").val(a),n.find(".icon-preview").html('<i class="'+i+'"></i>'),n.find(".te-icon-value").trigger("change")},IconToggle:function(){var e=h(this).closest(".te-icons-wrapper"),n=e.find(".icons-list-wrapper"),i=e.find(".dashicons");n.is(":hidden")?(n.slideDown(),i.removeClass("dashicons-arrow-down"),i.addClass("dashicons-arrow-up")):(n.slideUp(),i.addClass("dashicons-arrow-down"),i.removeClass("dashicons-arrow-up"))},IconSearch:function(){var e=h(this),n=this.value;e.closest(".te-icons-wrapper").find(".icons-list-wrapper").find("i").each(function(){-1<h(this).attr("class").search(n)?h(this).parent(".single-icon").show():h(this).parent(".single-icon").hide()})},Widget_Change:function(e,n){var i=l.Snipits;h(n).find(".tcy_widget_relations").trigger("change"),i.Color_Picker(h(n).find(".sharing-plus-color-picker"))},Sortable_Icons:function(){h("#sharing_plus_active_icons").sortable({connectWith:"#sharing_plus_inactive_icons",cursor:"move",update:function(e,n){var i=h("#sharing_plus_active_icons").sortable("toArray",{attribute:"data-id"});h("#sharing_plus_icons_order").val(i.join(",")),h("#sharing_plus_networks\\[icon_selection\\]").val(i.join(","))}}),h("#sharing_plus_inactive_icons").sortable({connectWith:"#sharing_plus_active_icons",cursor:"move"})}},Click:function(){var e=l.Snipits,n=e.ImageUpload;d.on("click",".media-image-upload",n);var i=e.WidgetTab;d.on("click",".sharing-plus-tab-list .nav-tab",i);var a=e.Widget_Relation;h(document).on("change",".tcy_widget_relations",a),h(".tcy_widget_relations").trigger("change"),d.on("click",".media-image-remove",function(e){h(this).siblings(".img-preview-wrap").hide(),h(this).prev().prev().val("")});var t=e.CustomizerIcons;d.on("click",".te-icons-wrapper .single-icon",t);var s=e.IconToggle;d.on("click",".te-icons-wrapper .icon-toggle ,.te-icons-wrapper .icon-preview",s);var o=e.IconSearch;d.on("keyup",".te-icons-wrapper .icon-search",o);var c=e.Widget_Accordion;d.on("change",".tcy-accordion-title input",c);var r=e.Widget_Change;d.on("widget-added widget-updated panelsopen",r)},Ready:function(){var e=l,n=e.Snipits;e.Repeater(),n.Variables(),n.Append_HTML(),n.Sortable_Icons(),n.Color_Picker(h(".sharing-plus-color-picker")),e.Click()},Load:function(){},Resize:function(){},Scroll:function(){},Init:function(){var e=l,n=e.Ready,i=e.Load,a=e.Resize,t=e.Scroll;h(document).ready(n),h(window).load(i),h(window).scroll(t),h(window).resize(a)}}).Init()}(jQuery),function(a,e,n){a(function(){a("#sharing_plus_sidebar\\[icon_space\\]").is(":checked")||a(".container-sharing_plus_sidebar\\[icon_space_value\\]").css("display","none"),a("#sharing_plus_sidebar\\[icon_space\\]").on("change",function(e){a(this).is(":checked")?a(".container-sharing_plus_sidebar\\[icon_space_value\\]").css("display","block"):a(".container-sharing_plus_sidebar\\[icon_space_value\\]").css("display","none")}),a("#sharing_plus_inline\\[icon_space\\]").is(":checked")||a(".container-sharing_plus_inline\\[icon_space_value\\]").css("display","none"),a("#sharing_plus_inline\\[icon_space\\]").on("change",function(e){a(this).is(":checked")?a(".container-sharing_plus_inline\\[icon_space_value\\]").css("display","block"):a(".container-sharing_plus_inline\\[icon_space_value\\]").css("display","none")}),a("#sharing_plus_media\\[icon_space\\]").is(":checked")||a(".container-sharing_plus_media\\[icon_space_value\\]").css("display","none"),a("#sharing_plus_media\\[icon_space\\]").on("change",function(e){a(this).is(":checked")?a(".container-sharing_plus_media\\[icon_space_value\\]").css("display","block"):a(".container-sharing_plus_media\\[icon_space_value\\]").css("display","none")}),a(n).on("click",".sharing-plus-fb-token",function(){var e=a(this).closest(".tcy-accordion-content"),n=e.find(".facebook-app-id input").val().trim(),i=e.find(".facebook-security-key input").val().trim();return 0==n.length?(e.find(".fb-error").text("Fb App id :  required"),!1):0==i.length?(e.find(".fb-error").text("Fb Security key  :  required"),!1):(a(fb_content).find("#token_loader").show(),void a.ajax({url:"https://graph.facebook.com/oauth/access_token",data:{client_id:n,client_secret:i,grant_type:"client_credentials"},dataType:"json"}).done(function(e,n,i){a(fb_content).find(".fb_access_token").val(e.access_token),a(fb_content).find(".fb-error").text("")}).fail(function(e,n,i){a(fb_content).find(".fb-error").text("Incorrect data, please check each field.\n\nInfo Message: "+e.responseJSON.error.message)}).always(function(e,n,i){a(fb_content).find("#token_loader").hide()}))})})}(jQuery,window,document);